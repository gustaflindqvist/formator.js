(function(h,k){h.formator={cellphone:function(b,e){if("string"!==typeof b)return!1;var a=b.replace(/\D/g,""),c=[70,72,73,76,79],d;for(d in c)if(-1<a.indexOf(c[d])&&9===a.substring(a.indexOf(c[d]),a.length).length){if(e&&"NAT_FORMAT"===e){var f="0";for(d=c=a.indexOf(c[d]);d<=c+8;d++)f+=(d===c+2?"-":d===c+5||d===c+7?" ":"")+a.substr(d,1);return f}return(e&&"INT_FORMAT"===e?"+46":"0")+a.substring(a.indexOf(c[d]),a.length)}return!1},postalcode:function(b,e){if("string"!==typeof b)return!1;var a=b.replace(/\D/g,
""),c=["32","48","49","99"],d=parseInt(a,10);return 5!==a.length||1E4>d||99E3<d||-1<c.indexOf(a.substr(0,2))?!1:"NAT_FORMAT"===e?a.substr(0,3)+" "+a.substr(-2):"INT_FORMAT"===e?"SE-"+a.substr(0,3)+" "+a.substr(-2):a},email:function(b,e){var a=!!(/\S+@\S+\.\S+/.test(b)&&b.indexOf("@")===b.lastIndexOf("@")&&255>b.length);b=("UPPERCASE"===e?b.toUpperCase():"LOWERCASE"===e?b.toLowerCase():b).replace(/^\s+|\s+$/gm,"");return a?b:!1},bankcard:function(b,e){if("string"!==typeof b)return!1;var a=b.replace(/\D/g,
"");if(11>a.length||21<a.length||!this.luhnMod10(a))return!1;if(-1<["SPACE","DASH"].indexOf(e)){for(var c="",d="DASH"===e?"-":" ";0<a.length;)c+=a.substr(0,4)+d,a=a.substr(4);return c.substring(0,c.length-1)}return a},personalid:function(b,e){if("string"!==typeof b)return!1;var a=b.replace(/\D/g,"");if(12!==a.length&&10!==a.length||!1===this.luhnMod10(a.substr(a.length-10,10)))return!1;var c={1:31,2:29,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31},d=parseInt(a.substr(a.length-8,2),10),f=parseInt(a.substr(a.length-
6,2),10);if(1>d||12<d||1>f||f>c[d])return!1;var g=(new Date).getFullYear(),c="+"===b.substr(-5,1)?"+":"-";10===a.length&&(d=parseInt(a.substr(0,2),10),f=parseInt(g.toString().substr(0,2),10),g=parseInt(g.toString().substr(2,2),10),a=(f-(d>g?1:0)-("+"===c?1:0)).toString().concat(a));return"SHORT"===e?a.substr(2,6)+c+a.substr(-4,4):a},organizationid:function(b,e){if("string"!==typeof b)return!1;var a=b.replace(/\D/g,"");return 10!==a.length||2>parseInt(a.substr(-8,1),10)||!this.luhnMod10(a.substr(-10,
10))?!1:"DASH"===e?a.substr(-10,6)+"-"+a.substr(-4,4):a.substr(-10,10)},vatid:function(b){return"string"!==typeof b?!1:(b=this.organizationid(b))?"SE "+b.substr(-10,10)+"01":!1},luhnMod10:function(b){var e=1,a=0,c;for(c=b.length-1;0<=c;c--){var d=e*parseInt(b.substr(c,1),10);e=2===e?1:2;a+=parseInt(d/10+d%10,10)}return 0===a%10}}})(window);
