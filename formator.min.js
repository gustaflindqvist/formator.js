(function(h,k){h.formator={cellphone:function(b,e){if("string"!==typeof b)return!1;var a=b.replace(/\D/g,""),d=[70,72,73,76,79],c;for(c in d)if(-1<a.indexOf(d[c])&&9===a.substring(a.indexOf(d[c]),a.length).length){if(e&&"NAT_FORMAT"===e){var f="0";for(c=d=a.indexOf(d[c]);c<=d+8;c++)f+=(c===d+2?"-":c===d+5||c===d+7?" ":"")+a.substr(c,1);return f}return(e&&"INT_FORMAT"===e?"+46":"0")+a.substring(a.indexOf(d[c]),a.length)}return!1},postalcode:function(b,e){if("string"!==typeof b)return!1;var a=b.replace(/\D/g,
""),d=["32","48","49","99"],c=parseInt(a,10);return 5!==a.length||1E4>c||99E3<c||-1<d.indexOf(a.substr(0,2))?!1:"NAT_FORMAT"===e?a.substr(0,3)+" "+a.substr(-2):"INT_FORMAT"===e?"SE-"+a.substr(0,3)+" "+a.substr(-2):a},email:function(b,e){var a=!!(/\S+@\S+\.\S+/.test(b)&&b.indexOf("@")===b.lastIndexOf("@")&&255>b.length);b=("UPPERCASE"===e?b.toUpperCase():"LOWERCASE"===e?b.toLowerCase():b).replace(/^\s+|\s+$/gm,"");return a?b:!1},bankcard:function(b,e){if("string"!==typeof b)return!1;var a=b.replace(/\D/g,
"");if(11>a.length||21<a.length||!this.luhn(a))return!1;if(-1<["SPACE","DASH"].indexOf(e)){for(var d="",c="DASH"===e?"-":" ";0<a.length;)d+=a.substr(0,4)+c,a=a.substr(4);return d.substring(0,d.length-1)}return a},personalid:function(b,e){if("string"!==typeof b)return!1;var a=b.replace(/\D/g,"");if(12!==a.length&&10!==a.length||!1===this.luhn(a.substr(a.length-10,10)))return!1;var d={1:31,2:29,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31},c=parseInt(a.substr(a.length-8,2),10),f=parseInt(a.substr(a.length-
6,2),10);if(1>c||12<c||1>f||f>d[c])return!1;var g=(new Date).getFullYear(),d="+"===b.substr(-5,1)?"+":"-";10===a.length&&(c=parseInt(a.substr(0,2),10),f=parseInt(g.toString().substr(0,2),10),g=parseInt(g.toString().substr(2,2),10),a=(f-(c>g?1:0)-("+"===d?1:0)).toString().concat(a));return"SHORT"===e?a.substr(2,6)+d+a.substr(-4,4):a},organizationid:function(b,e){if("string"!==typeof b)return!1;var a=b.replace(/\D/g,"");return 12!==a.length&&10!==a.length||!1===this.luhn(a.substr(a.length-10,10))?!1:
(a=2>parseInt(a.substr(-7,1),10)?"16"+a.substr(-10,10):this.personalid(b))?"FULL"===e?a:a.substr(2,6)+"-"+a.substr(-4,4):!1},vatid:function(b){return"string"!==typeof b?!1:(b=this.organizationid(b,"FULL"))?"SE "+b.substr(-10,10)+"01":!1},luhn:function(b){for(var e=b.length,a=1,d=0,c,f=[0,2,4,6,8,1,3,5,7,9];e;)c=parseInt(b.charAt(--e),10),d+=(a^=1)?f[c]:c;return d&&0===d%10}}})(window);
